package zk

import (
	"fmt"
	"math/big"

	"github.com/taurusgroup/cmp-ecdsa/pkg/paillier"
	"github.com/taurusgroup/cmp-ecdsa/pkg/pedersen"
)

var (
	ProverPaillierPublic   *paillier.PublicKey
	ProverPaillierSecret   *paillier.SecretKey
	VerifierPaillierPublic *paillier.PublicKey
	VerifierPaillierSecret *paillier.SecretKey
	Pedersen               *pedersen.Parameters
)

func generate() {
	sk1 := paillier.NewSecretKey()
	sk2 := paillier.NewSecretKey()
	fmt.Println("var p1, q1, p2, q2, s, t big.Int")
	fmt.Printf("p1.SetString(\"%s\", 10)\n", sk1.P)
	fmt.Printf("q1.SetString(\"%s\", 10)\n", sk1.Q)
	fmt.Printf("p2.SetString(\"%s\", 10)\n", sk2.P)
	fmt.Printf("q2.SetString(\"%s\", 10)\n", sk2.Q)

	fmt.Println("ProverPaillierSecret = paillier.NewSecretKeyFromPrimes(&p1, &q1)")
	fmt.Println("VerifierPaillierSecret = paillier.NewSecretKeyFromPrimes(&p2, &q2)")
	fmt.Println("ProverPaillierPublic = ProverPaillierSecret.publicKey()")
	fmt.Println("VerifierPaillierPublic = VerifierPaillierSecret.publicKey()")
	ped, _ := sk2.GeneratePedersen()
	fmt.Printf("s.SetString(\"%s\", 10)\n", ped.S)
	fmt.Printf("t.SetString(\"%s\", 10)\n", ped.T)
	fmt.Println("Pedersen = &pedersen.Parameters{N: VerifierPaillierPublic.N, S: &s, T: &t}")
}

func init() {
	var p1, q1, p2, q2, s, t big.Int
	p1.SetString("178057883835183286117512200677440244390145099259082383308945719698013763573399954450532998268905835885924159614319313406003087379446561971296106546809183979483713400989852915992871444851374827190424830370732455638126086633695206754034038375138787276649530329444888582356387252561437032663445969018257131309467", 10)
	q1.SetString("154015006160854235002007557023803468376448277365405705676551314882683128790125170467276370601034321782779924625687921529410458399255587689405771572795902602356870537998583671038752961901536910952455193645347654842352350434852963582643875873134652544209964216130513008483123534718118886460747385334474444035767", 10)
	p2.SetString("167787378124493251143019317148640002704627246441948478667228653077480460722587683232574642646881918291617096056059094676028553654483234130554846251885046454551940487805308868634255323683863713140655564735924266284866837842194990483103880904971258203143094403837857522074121191003497549968517847389130694872243", 10)
	q2.SetString("172628447884705665617889981568659580779158791788739623181155628021912172507506304588104455578938133266991401111847751057649396152800487084926965483859584170262709704771256788476402116814674555111681159311762456805404702593970608068725702669729604972720624950347771947966559580483327952522048377101886306484099", 10)
	ProverPaillierSecret = paillier.NewSecretKeyFromPrimes(&p1, &q1)
	VerifierPaillierSecret = paillier.NewSecretKeyFromPrimes(&p2, &q2)
	ProverPaillierPublic = ProverPaillierSecret.PublicKey
	VerifierPaillierPublic = VerifierPaillierSecret.PublicKey
	s.SetString("25448182756540222866319501898634270977599693736075116251767811398321761734336492575194265315792355808584718336663782672204688106417478368963300473751214591342337476683702712849651809231550640975602518619906861486655178732000388791254150785099820854279346548346528112423491316470201233748237839902669525854602668864974189022599379366745615480940437093919632552402353187455676393853230065384108683249537894167198489453490494046634358648195677341022149808031953931584669015124559681899432749131037714975312907114971572056736764605968515055562566021058441965744442163176054557494286204809259988469497547181346009783327359", 10)
	t.SetString("8015316201083753856167999987758855473596936298647823494052059806385270716210155885167716563507417164942757686623899459374045961056288024798233083861233712530311639442975277876900958870072552064612806429411065226076877525019560729216371707422331329043485629581836713694830988754061121605813376665575545793435480194071036877604266918397803979335525965949555983633053355236016000661904600828377166630829936488123935666148193019631612745852632950704726062001705644025539422488832473576716710166218032931524855280744450703912325492865050739662260518593977876485434650101403209615051036271024149130698937966662896144492264", 10)
	Pedersen = &pedersen.Parameters{N: VerifierPaillierPublic.N, S: &s, T: &t}
}
